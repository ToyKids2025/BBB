<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#32CD32" />
    <!-- Meta Description SEO -->
    <meta name="description" content="BuscaBusca Brasil - Encontre as melhores ofertas da Amazon e Mercado Livre. Produtos selecionados com os melhores preços e descontos. Acompanhe ofertas exclusivas no Instagram @buscabuscabr. NÃO somos loja física." />
    <meta name="keywords" content="ofertas amazon, produtos mercado livre, melhores preços, descontos, promoções, guia de compras, ofertas do dia, black friday, prime day" />
    <meta name="author" content="BuscaBusca Brasil" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.buscabuscabrasil.com.br/" />

    <!-- Diferenciação IMPORTANTE -->
    <meta name="classification" content="Catálogo de Ofertas e Produtos Amazon e Mercado Livre" />
    <meta name="category" content="Shopping, Ofertas, Comparador de Preços" />

    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="BuscaBusca">

    <!-- Prevent horizontal scroll on mobile -->
    <meta name="format-detection" content="telephone=no">
    <meta name="HandheldFriendly" content="true">

    <!-- iOS Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="%PUBLIC_URL%/icon-167.png">
    <link rel="apple-touch-icon" sizes="152x152" href="%PUBLIC_URL%/icon-152.png">
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/icon-180.png" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://www.buscabuscabrasil.com.br">

    <!-- SEO Open Graph (Facebook, LinkedIn) -->
    <meta property="og:title" content="BuscaBusca Brasil - Melhores Ofertas Amazon e Mercado Livre">
    <meta property="og:description" content="Encontre as melhores ofertas e produtos selecionados da Amazon e Mercado Livre com os melhores preços. Acompanhe ofertas exclusivas diariamente.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.buscabuscabrasil.com.br">
    <meta property="og:image" content="https://www.buscabuscabrasil.com.br/og-image.png">
    <meta property="og:site_name" content="BuscaBusca Brasil">
    <meta property="og:locale" content="pt_BR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BuscaBusca Brasil - Ofertas Amazon e Mercado Livre">
    <meta name="twitter:description" content="Encontre as melhores ofertas e produtos selecionados da Amazon e Mercado Livre. Acompanhe @buscabuscabr no Instagram.">
    <meta name="twitter:image" content="https://www.buscabuscabrasil.com.br/og-image.png">

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BuscaBusca Brasil",
      "description": "Catálogo de ofertas e produtos selecionados da Amazon e Mercado Livre. Encontre as melhores ofertas com os melhores preços.",
      "url": "https://www.buscabuscabrasil.com.br",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.buscabuscabrasil.com.br/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "BuscaBusca Brasil",
        "url": "https://www.buscabuscabrasil.com.br",
        "sameAs": [
          "https://www.instagram.com/buscabuscabr/"
        ],
        "contactPoint": {
          "@type": "ContactPoint",
          "email": "contato@buscabuscabrasil.com.br",
          "contactType": "Customer Service"
        }
      },
      "about": {
        "@type": "Thing",
        "name": "Ofertas e Produtos Amazon e Mercado Livre",
        "description": "Catálogo de produtos selecionados com os melhores preços e ofertas"
      },
      "inLanguage": "pt-BR",
      "isPartOf": {
        "@type": "WebSite",
        "url": "https://www.buscabuscabrasil.com.br"
      },
      "disclaimer": "Este é um site de divulgação de ofertas de produtos. NÃO somos loja física. NÃO vendemos produtos diretamente. Direcionamos para plataformas oficiais Amazon e Mercado Livre. Não possuímos relação com estabelecimentos físicos de nome similar."
    }
    </script>

    <!-- Schema.org - Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "BuscaBusca Brasil",
      "url": "https://www.buscabuscabrasil.com.br",
      "logo": "https://www.buscabuscabrasil.com.br/icon-512.png",
      "description": "Catálogo de ofertas e produtos da Amazon e Mercado Livre",
      "email": "contato@buscabuscabrasil.com.br",
      "sameAs": [
        "https://www.instagram.com/buscabuscabr/"
      ],
      "areaServed": "BR",
      "serviceType": "Catálogo de Ofertas",
      "knowsAbout": [
        "Ofertas Amazon",
        "Produtos Mercado Livre",
        "Melhores Preços",
        "Guia de Compras"
      ],
      "disambiguatingDescription": "Site de divulgação de ofertas. NÃO é loja física. NÃO vende produtos. Direciona para Amazon e Mercado Livre oficiais."
    }
    </script>

    <title>BuscaBusca Brasil - Melhores Ofertas Amazon e Mercado Livre</title>

    <script>
        // 🔥 FIX ERRO 494: Limpeza forçada de cache após otimização
        (function() {
            const CACHE_VERSION = 'v4_clean_494'; // Versão pós-fix erro 494
            const lastCacheClean = localStorage.getItem('cache_clean_version');

            if (lastCacheClean !== CACHE_VERSION) {
                console.log('🧹 Limpando cache antigo (fix erro 494)...');

                // 1. Limpar Service Worker caches
                if ('caches' in window) {
                    caches.keys().then(function(names) {
                        names.forEach(function(name) {
                            console.log('Deletando cache:', name);
                            caches.delete(name);
                        });
                    });
                }

                // 2. Limpar localStorage de tracking antigo
                const keysToRemove = [];
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key && (
                        key.startsWith('bb_') ||
                        key.startsWith('cookie_') ||
                        key.includes('fingerprint') ||
                        key.includes('eternal') ||
                        key.includes('tracking')
                    )) {
                        keysToRemove.push(key);
                    }
                }
                keysToRemove.forEach(key => {
                    console.log('Removendo localStorage:', key);
                    localStorage.removeItem(key);
                });

                // 3. Limpar sessionStorage
                sessionStorage.clear();

                // 4. Marcar limpeza como concluída
                localStorage.setItem('cache_clean_version', CACHE_VERSION);
                console.log('✅ Cache limpo! Página será recarregada.');

                // 5. Recarregar página para garantir versão limpa
                setTimeout(function() {
                    window.location.reload(true); // Hard reload
                }, 500);
            }
        })();

        // Service Worker único será registrado via src/index.js
        // Não registrar aqui para evitar conflitos

        // Pixel tracking inicial (após DOM carregar)
        window.addEventListener('DOMContentLoaded', function() {
            const pixel = new Image(1, 1);
            pixel.src = 'https://buscabuscabrasil.com.br/p.gif?event=page_load&t=' + Date.now();
            pixel.style.display = 'none';
            if (document.body) {
                document.body.appendChild(pixel);
            }
        });
    </script>
</head>
<body>
    <noscript>Você precisa habilitar o JavaScript para usar este aplicativo.</noscript>
    <div id="root"></div>
</body>
</html>